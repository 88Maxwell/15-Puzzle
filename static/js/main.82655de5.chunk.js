(this["webpackJsonp15-puzzle"]=this["webpackJsonp15-puzzle"]||[]).push([[0],{18:function(n,e,r){n.exports=r(29)},19:function(n,e,r){},29:function(n,e,r){"use strict";r.r(e);r(19);var t=r(0),o=r.n(t),a=r(12),i=r.n(a),c=r(17),u=o.a.createContext(),l=r(5),f=function(n){return Math.floor(n/2)===n/2},d=function(n){return!f(n)};function s(n){var e=n.length,r=n.reduce((function(n,e){return[].concat(Object(l.a)(n),Object(l.a)(e))}),[]).findIndex((function(n){return n.main})),t=function(n){return n.reduce((function(e,r){var t=r.map((function(e){return e.x+e.y*n.length+1}));return[].concat(Object(l.a)(e),Object(l.a)(t))}),[])}(n),o=e-Math.floor(r/e),a=function(n,e){return n.reduce((function(r,t,o){return t!==Math.pow(e,2)?r+n.slice(o+1).reduce((function(n,e){return t<e&&16!==t?n:n+1}),0):r}),0)}(t,e),i=d(e)&&f(a),c=f(e),u=d(o)&&f(a),s=f(o)&&d(a);return i||c&&(u||s)}function h(n){for(var e=n.length-1;e>0;e--)for(var r=n.length-1;r>0;r--){var t=Math.floor(Math.random()*e),o=Math.floor(Math.random()*r),a=n[e][r];n[e][r]=n[t][o],n[t][o]=a}return n}var b=r(3),v=function(n,e){return n.map((function(n,r){return n.map((function(n,t){return e(n,r,t)}))}))};function p(n){return v(n,(function(n,e,r){return Object(b.a)(Object(b.a)({},n),{},{isRight:n.x===r&&n.y===e})}))}function g(n){for(var e=h(n),r=s(e);!r;)r=s(e=h(e));return p(e)}function m(){var n=Array.from(Array(4),(function(n,e){return Array.from(Array(4),(function(n,r){return{y:e,x:r,isRight:!0}}))}));return n[3][3].main=!0,n}var w={BREAK_GAME:"BREAK_GAME",SET_STATE:"SET_STATE",INIT_GAME:"INIT_GAME"};function y(n,e){var r=e.payload||{},t=r.enabled,o=r.board;switch(e.type){case w.INIT_GAME:return{enabled:!0,board:g(m())};case w.BREAK_GAME:return{enabled:!1,board:m()};case w.SET_STATE:return{enabled:t,board:o};default:throw new Error}}var E=function(n){var e=n.children,r=Object(t.useReducer)(y,{enabled:!1,board:m()}),a=Object(c.a)(r,2),i=a[0],l=a[1],f=Object(t.useMemo)((function(){return{state:i,dispatch:l,actionTypes:w}}),[i,l]);return o.a.createElement(u.Provider,{value:f},e)},x=r(13);var A=function(n){var e=n.children,r=n.onChangeGameState;return o.a.createElement(x.a,{nodeName:"div",detectTouch:!0,onSwipedLeft:function(){return r({keyCode:37})},onSwipedRight:function(){return r({keyCode:39})},onSwipedDown:function(){return r({keyCode:40})},onSwipedUp:function(){return r({keyCode:38})}},e)},k=r(1),j=r(2),T="darkorange",O="white",M="#804600",C="#552f00";function S(){var n=Object(k.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    width: 25%;\n    height: 25%;\n    border: 2.5px solid white;\n    font-size: 1rem;\n    background-color: ",";\n"]);return S=function(){return n},n}var R=O,z="green",G="#fe9802";var I=j.a.div(S(),(function(n){switch(n.state){case"default":return G;case"main":return R;case"right":return z}throw new Error("setBgColor Error")}));var _=function(n){var e=n.children,r=n.state;return o.a.createElement(I,{state:r},e)};function N(){var n=Object(k.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    user-select: none;\n    width: 40vh;\n    height: 40vh;\n    background-color: ",";\n    border: 1px solid ",";\n    box-shadow: 2px 2px 10px ",";\n"]);return N=function(){return n},n}function W(){var n=Object(k.a)(["\n    box-sizing: border-box;\n    border: none;\n    padding: 10px;\n    margin: 15px;\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return W=function(){return n},n}function B(){var n=Object(k.a)(["\n    display: flex;\n"]);return B=function(){return n},n}var K=O,P=T,U=M,L=C,D=j.a.nav(B()),J=j.a.button(W(),U,K,L),F=j.a.div(N(),K,P,P);var Y=function(){var n=Object(t.useRef)(),e=Object(t.useContext)(u),r=e.state,a=e.dispatch,i=e.actionTypes,c=function(n,e){for(var t,o=0;o<r.board.length;o++)for(var a=0;a<r.board[o].length;a++)if(r.board[o][a].main){t={y:o,x:a};break}if(!t)throw new Error("findMain error");var i={x:t.x+n,y:t.y+e};return i.y<4&&i.y>-1&&i.x<4&&i.x>-1?function(n,e,t){var o=v(r.board,(function(n){return Object(b.a)({},n)})),a=[Object(b.a)({},o[t.y][t.x]),o[e.y][e.x]];return o[e.y][e.x]=a[0],o[t.y][t.x]=a[1],o}(r.board,t,i):r.board},l=function(n){return function(n,e){var r=e.right,t=e.left,o=e.top,a=e.bottom;switch(n){case 37:return t();case 38:return o();case 39:return r();case 40:return a()}throw new Error("mapArrowKey errer")}(n,{top:function(){return c(0,-1)},bottom:function(){return c(0,1)},right:function(){return c(1,0)},left:function(){return c(-1,0)}})},f=function(n){if(r.enabled&&n.keyCode<=40&&n.keyCode>=37){var e=p(l(n.keyCode)),t=e.flat(1).every((function(n){return n.isRight}));a({type:i.SET_STATE,payload:{enabled:!t,board:e}}),t&&alert("YOU ARE WIN A GAME!!!")}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"15-puzzle"),o.a.createElement(D,null,o.a.createElement(J,{onClick:function(){n.current&&n.current.focus(),a({type:i.INIT_GAME})}},"#shuffleGame"),o.a.createElement(J,{onClick:function(){return a({type:i.BREAK_GAME})}},"#breakGame")),o.a.createElement("div",null,o.a.createElement(A,{onChangeGameState:f},o.a.createElement(F,{ref:n,onKeyDown:f,tabIndex:"0"},r.board.map((function(n){return n.map((function(n){var e=n.x+4*n.y+1,r="default";return n.main?r="main":n.isRight&&(r="right"),o.a.createElement(_,{key:e,state:r},e)}))}))))))},$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var r=n.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}i.a.render(o.a.createElement(E,null,o.a.createElement(Y,null)),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/15-Puzzle",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/15-Puzzle","/service-worker.js");$?(!function(n,e){fetch(n).then((function(r){var t=r.headers.get("content-type");404===r.status||null!=t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):q(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):q(e,n)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.82655de5.chunk.js.map