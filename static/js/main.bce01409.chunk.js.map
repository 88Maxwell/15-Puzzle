{"version":3,"sources":["utils/shufleFisherYates.js","utils/checkBoardSolvability.js","components/Swipe/index.js","components/Swipe/Swipe.js","utils/mapArrowKey.js","utils/theame.js","components/Tile/styles.js","components/Tile/Tile.js","components/Tile/index.js","components/Game/styles.js","components/Game/index.js","components/Game/Game.js","serviceWorker.js","index.js"],"names":["arr","i","length","j","m","Math","floor","random","n","temp","matrix","N","indexOfMain","getIndexOfMain","computedArr","fromMatrixToComputedArr","posOfMainFromBottomAtMatrix","inversion","getInversionCount","conditionOne","isOdd","isEven","conditionTwo","conditionTwoSubOne","conditionTwoSubTwo","reduce","acc","row","findIndex","el","main","computedRow","map","x","y","arrEl","index","slice","accum","elem","number","Swipe","handleSwipeLeftListener","props","onChangeGameState","keyCode","handleSwipeDownListener","handleSwipeRightListener","handleSwipeUpListener","children","this","nodeName","detectTouch","onSwipeEnd","handleSwipeEnd","onSwipedLeft","onSwipedRight","onSwipedDown","onSwipedUp","React","Component","key","right","left","top","bottom","colors","Second","Right","Item","styled","div","state","setBgColor","TileComponent","Tile","Main","Button","ButtonHover","Nav","nav","Btn","button","Container","Game","enabled","wrongItems","gameState","genereteDefaultGameState","handleStartGame","container","focus","gs","generateRandomSolvableGs","wrongs","getWrongItems","stateSetter","handleBreakGame","handleChangeGameState","ev","swapItems","alert","setContainerRef","containerRef","mapArrowKey","swapHandler","shufleFisherYates","isSolved","isSolvable","undefined","forEach","val","item","push","a","b","findMain","swapArrayElem","c","setState","Array","from","includes","tileState","onClick","ref","onKeyDown","tabIndex","generateItems","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.bce01409.chunk.js","sourcesContent":["export default arr => {\n    for (let i = arr.length - 1; i > 0; i--) {\n        for (let j = arr.length - 1; j > 0; j--) {\n            const m = Math.floor(Math.random() * i);\n            const n = Math.floor(Math.random() * j);\n            const temp = arr[i][j];\n\n            /* eslint-disable */\n            arr[i][j] = arr[m][n];\n            arr[m][n] = temp;\n            /* eslint-enable */\n        }\n    }\n\n    return arr;\n};\n\n","/* eslint-disable no-param-reassign */\n\nexport default matrix => {\n    const N = matrix.length;\n    const indexOfMain = getIndexOfMain(matrix);\n    const computedArr = fromMatrixToComputedArr(matrix);\n\n    const posOfMainFromBottomAtMatrix = N - Math.floor(indexOfMain / N);\n    const inversion = getInversionCount(computedArr, N);\n\n    const conditionOne = isOdd(N) && isEven(inversion);\n    const conditionTwo = isEven(N);\n    const conditionTwoSubOne = isOdd(posOfMainFromBottomAtMatrix) && isEven(inversion);\n    const conditionTwoSubTwo = isEven(posOfMainFromBottomAtMatrix) && isOdd(inversion);\n\n    return conditionOne || (conditionTwo && (conditionTwoSubOne || conditionTwoSubTwo));\n};\n\nconst getIndexOfMain = matrix => matrix.reduce((acc, row) => [ ...acc, ...row ], []).findIndex(el => el.main);\n\nconst fromMatrixToComputedArr = matrix =>\n    matrix.reduce((acc, row) => {\n        const computedRow = row.map(el => el.x + el.y * matrix.length + 1);\n\n        return [ ...acc, ...computedRow ];\n    }, []);\n\nconst getInversionCount = (arr, N) =>\n    arr.reduce((acc, arrEl, index) => {\n        if (arrEl !== N ** 2) {\n            const slicedArr = arr.slice(index + 1);\n\n            return acc + slicedArr.reduce((accum, elem) => (arrEl < elem && arrEl !== 16 ? accum : ++accum), 0);\n        }\n\n        return acc;\n    }, 0);\n\nconst isEven = number => Math.floor(number / 2) === number / 2;\nconst isOdd = number => !isEven(number);\n\n// const st = [\n//     [ { x: 0, y: 3 }, { x: 1, y: 0 }, { x: 1, y: 2 }, { x: 2, y: 0 } ],\n//     [ { x: 0, y: 0 }, { x: 3, y: 2 }, { x: 3, y: 1 }, { x: 3, y: 0 } ],\n//     [ { x: 0, y: 1 }, { x: 3, y: 3, main: true }, { x: 0, y: 2 }, { x: 1, y: 1 } ],\n//     [ { x: 2, y: 3 }, { x: 1, y: 3 }, { x: 2, y: 2 }, { x: 2, y: 1 } ]\n// ];\n\n// const stSec = [\n//     [ { x: 1, y: 1 }, { x: 0, y: 3 }, { x: 2, y: 1 }, { x: 1, y: 2 } ],\n//     [ { x: 3, y: 1 }, { x: 0, y: 2 }, { x: 2, y: 2 }, { x: 3, y: 3, main: true } ],\n//     [ { x: 2, y: 3 }, { x: 1, y: 0 }, { x: 3, y: 2 }, { x: 0, y: 1 } ],\n//     [ { x: 1, y: 3 }, { x: 2, y: 0 }, { x: 0, y: 0 }, { x: 3, y: 0 } ]\n// ];\n\n// const stThird = [\n//     [ { x: 2, y: 0 }, { x: 0, y: 2 }, { x: 0, y: 0 }, { x: 2, y: 3 } ],\n//     [ { x: 1, y: 3 }, { x: 2, y: 2 }, { x: 3, y: 0 }, { x: 1, y: 1 } ],\n//     [ { x: 0, y: 3 }, { x: 3, y: 3, main: true }, { x: 1, y: 2 }, { x: 3, y: 2 } ],\n//     [ { x: 1, y: 0 }, { x: 2, y: 1 }, { x: 3, y: 1 }, { x: 0, y: 1 } ]\n// ];\n","import Swipe from \"./Swipe\";\n\nexport default Swipe;\n\n","import React from \"react\";\nimport { Swipe } from \"react-swipe-component\";\nimport PropTypes from \"prop-types\";\n\nexport default class SwipeCustom extends React.Component {\n    static propTypes = {\n        children          : PropTypes.node.isRequired,\n        onChangeGameState : PropTypes.func.isRequired\n    };\n\n    // ---- LEFT -------\n    handleSwipeLeftListener = () => this.props.onChangeGameState({ keyCode: 37 });\n\n    // ---- TOP -------\n    handleSwipeDownListener = () => this.props.onChangeGameState({ keyCode: 40 });\n\n    // ---- RIGHT -----\n    handleSwipeRightListener = () => this.props.onChangeGameState({ keyCode: 39 });\n\n    // ---- DOWN ------\n    handleSwipeUpListener = () => this.props.onChangeGameState({ keyCode: 38 });\n\n    render() {\n        const { children } = this.props;\n\n        return (\n            <Swipe\n                nodeName=\"div\"\n                detectTouch\n                onSwipeEnd={this.handleSwipeEnd}\n                onSwipedLeft={this.handleSwipeLeftListener}\n                onSwipedRight={this.handleSwipeRightListener}\n                onSwipedDown={this.handleSwipeDownListener}\n                onSwipedUp={this.handleSwipeUpListener}\n            >\n                {children}\n            </Swipe>\n        );\n    }\n}\n","export default (key, { right, left, top, bottom })  => {\n    switch (key) {\n        // ---- LEFT -------\n        case 37:\n            return left();\n\n        // ---- TOP --------\n        case 38:\n            return top();\n\n        // ---- RIGHT ------\n        case 39:\n            return right();\n\n        // ---- DOWN -------\n        case 40:\n            return bottom();\n        default:\n            break;\n    }\n};\n","export const colors = {\n    Main        : \"darkorange\",\n    Second      : \"white\",\n    Item        : \"#fe9802\",\n    Right       : \"green\",\n    Button      : \"#804600\",\n    ButtonHover : \"#552f00\"\n};\n","import styled from \"styled-components\";\nimport { colors } from \"../../utils/theame\";\n\nconst { Second, Right, Item } = colors;\n\nfunction setBgColor(state) {\n    switch (state) {\n        case \"default\":\n            return Item;\n        case \"main\":\n            return Second;\n        case \"right\":\n            return Right;\n        default:\n            break;\n    }\n}\n\nexport default styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    transition-timing-function: ease;\n    transition-delay: 1s;\n    transition-property: all;\n    width: 25%;\n    height: 25%;\n    border: 2.5px solid white;\n    font-size: 1rem;\n    background-color: ${({ state }) => setBgColor(state)};\n`;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Tile from \"./styles\";\n\nfunction TileComponent({ children, state }) {\n    return (\n        <Tile state={state}>\n            {children}\n        </Tile>\n    );\n}\n\nTileComponent.propTypes = {\n    state    : PropTypes.oneOf([ \"default\", \"main\", \"right\" ]).isRequired,\n    children : PropTypes.node.isRequired\n};\n\nexport default TileComponent;\n","import Tile from \"./Tile\";\n\nexport default Tile;\n","import styled from \"styled-components\";\nimport { colors } from \"../../utils/theame\";\n\nconst { Second, Main, Button, ButtonHover } = colors;\n\nexport const Nav = styled.nav`\n    display: flex;\n`;\n\nexport const Btn = styled.button`\n    box-sizing: border-box;\n    border: none;\n    padding: 10px;\n    margin: 15px;\n    background-color: ${Button};\n    color: ${Second};\n    cursor: pointer;\n\n    &:hover {\n        background-color: ${ButtonHover};\n    }\n`;\n\nexport const Container = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    user-select: none;\n    width: 40vh;\n    height: 40vh;\n    background-color: ${Second};\n    border: 1px solid ${Main};\n    box-shadow: 2px 2px 10px ${Main};\n`;\n","import Game from \"./Game\";\n\nexport default Game;\n\n","import React from \"react\";\n\nimport shufleFisherYates from \"../../utils/shufleFisherYates\";\nimport isSolvable from \"../../utils/checkBoardSolvability\";\nimport Swipe from \"../Swipe\";\nimport mapArrowKey from \"../../utils/mapArrowKey\";\nimport Tile from \"../Tile\";\nimport { Container, Btn, Nav } from \"./styles\";\n\nexport default class Game extends React.Component {\n    state = {\n        enabled    : false,\n        wrongItems : [],\n        gameState  : this.genereteDefaultGameState()\n    };\n\n    handleStartGame = () => {\n        if (this.container) {\n            this.container.focus();\n        }\n        const gs = this.generateRandomSolvableGs(this.state.gameState);\n        const wrongs = this.getWrongItems(gs);\n\n        this.stateSetter(true, gs, wrongs);\n    };\n\n    handleBreakGame = () => {\n        this.stateSetter(false, this.genereteDefaultGameState(), []);\n    };\n\n    handleChangeGameState = ev => {\n        if (this.state.enabled && ev.keyCode <= 40 && ev.keyCode >= 37) {\n            const gs = this.swapItems(ev.keyCode);\n            const wrongs = this.getWrongItems(gs);\n\n            let enabled = true;\n\n            if (wrongs !== null && wrongs.length === 0) {\n                // eslint-disable-next-line\n                alert(\"YOU ARE WIN A GAME!!!\");\n                enabled = false;\n            }\n\n            this.stateSetter(enabled, gs, wrongs);\n        }\n    };\n\n    getWrongItems(gameState) {\n        const wrongs = [];\n\n        if (gameState !== undefined) {\n            gameState.forEach((val, y) =>\n                val.forEach((item, x) =>\n                    (!(item.x === x && item.y === y) ? wrongs.push(item) : null)));\n\n            return wrongs;\n        }\n\n        return null; // set last version of wrongsItems, because (null || [last wrongs cofig])  => [last wrongs cofig]\n    }\n\n    setContainerRef = containerRef => (this.container = containerRef);\n\n    swapHandler(a, b) {\n        const gs = this.state.gameState;\n        const main = this.findMain(gs);\n        const item = {\n            y : main.y + b,\n            x : main.x + a\n        };\n\n        if (item.y < 4 && item.y > -1 && (item.x < 4 && item.x > -1)) {\n            return this.swapArrayElem(gs, main, item);\n        }\n    }\n\n    findMain(gs) {\n        // eslint-disable-next-line\n        for (let y = 0; y < gs.length; y++) {\n            // eslint-disable-next-line\n            for (let x = 0; x < gs[y].length; x++) {\n                if (gs[y][x].main) return { y, x };\n            }\n        }\n    }\n\n    swapArrayElem(arr, a, b) {\n        const c = arr[a.y][a.x];\n\n        /* eslint-disable */\n        arr[a.y][a.x] = arr[b.y][b.x];\n        arr[b.y][b.x] = c;\n        /* eslint-enable */\n\n        return arr;\n    }\n\n    swapItems = key =>\n        mapArrowKey(key, {\n            top    : () => this.swapHandler(0, -1),\n            bottom : () => this.swapHandler(0, 1),\n            right  : () => this.swapHandler(1, 0),\n            left   : () => this.swapHandler(-1, 0)\n        });\n\n    stateSetter(enabled, state, wrongs) {\n        this.setState(({ gameState, wrongItems }) => ({\n            enabled,\n            gameState  : state || gameState,\n            wrongItems : wrongs || wrongItems\n        }));\n    }\n\n    generateRandomSolvableGs = gs => {\n        let matrix = shufleFisherYates(gs);\n\n        let isSolved = isSolvable(matrix);\n\n        while (!isSolved) {\n            matrix = shufleFisherYates(matrix);\n            isSolved = isSolvable(matrix);\n        }\n\n        return matrix;\n    };\n\n    genereteDefaultGameState() {\n        const gameState = Array.from(Array(4), (val, y) => Array.from(Array(4), (item, x) => ({ y, x })));\n\n        gameState[3][3].main = true;\n\n        return gameState;\n    }\n\n    generateItems() {\n        return this.state.gameState.map(val => {\n            return val.map(item => {\n                const number = item.x + item.y * 4 + 1;\n                const right = !this.state.wrongItems.includes(item);\n\n                let tileState = \"default\";\n\n                if (item.main) tileState = \"main\";\n                else if (right) tileState = \"right\";\n\n                return (\n                    <Tile key={number} state={tileState}>\n                        {number}\n                    </Tile>\n                );\n            });\n        });\n    }\n\n    render() {\n        return (\n            <>\n                <h1>15-puzzle</h1>\n                <Nav>\n                    <Btn onClick={this.handleStartGame}>#shuffleGame</Btn>\n                    <Btn onClick={this.handleBreakGame}>#breakGame</Btn>\n                </Nav>\n                <div>\n                    <Swipe onChangeGameState={this.handleChangeGameState}>\n                        <Container ref={this.setContainerRef} onKeyDown={this.handleChangeGameState} tabIndex=\"0\">\n                            {this.generateItems()}\n                        </Container>\n                    </Swipe>\n                </div>\n            </>\n        );\n    }\n}\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\"No internet connection found. App is running in offline mode.\");\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import \"./index.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Game from \"./components/Game\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<Game />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}