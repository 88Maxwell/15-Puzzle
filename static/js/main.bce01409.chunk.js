(this["webpackJsonp15-puzzle"]=this["webpackJsonp15-puzzle"]||[]).push([[0],{19:function(e,n,t){e.exports=t(30)},20:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);t(20);var r=t(0),a=t.n(r),o=t(13),i=t.n(o),c=t(4),u=t(5),l=t(7),s=t(6),f=t(8),h=function(e){for(var n=e.length-1;n>0;n--)for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*n),a=Math.floor(Math.random()*t),o=e[n][t];e[n][t]=e[r][a],e[r][a]=o}return e},d=t(3),p=function(e){var n=e.length,t=g(e),r=m(e),a=n-Math.floor(t/n),o=v(r,n),i=y(n)&&w(o),c=w(n),u=y(a)&&w(o),l=w(a)&&y(o);return i||c&&(u||l)},g=function(e){return e.reduce((function(e,n){return[].concat(Object(d.a)(e),Object(d.a)(n))}),[]).findIndex((function(e){return e.main}))},m=function(e){return e.reduce((function(n,t){var r=t.map((function(n){return n.x+n.y*e.length+1}));return[].concat(Object(d.a)(n),Object(d.a)(r))}),[])},v=function(e,n){return e.reduce((function(t,r,a){return r!==Math.pow(n,2)?t+e.slice(a+1).reduce((function(e,n){return r<n&&16!==r?e:++e}),0):t}),0)},w=function(e){return Math.floor(e/2)===e/2},y=function(e){return!w(e)},b=t(14),S=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).handleSwipeLeftListener=function(){return t.props.onChangeGameState({keyCode:37})},t.handleSwipeDownListener=function(){return t.props.onChangeGameState({keyCode:40})},t.handleSwipeRightListener=function(){return t.props.onChangeGameState({keyCode:39})},t.handleSwipeUpListener=function(){return t.props.onChangeGameState({keyCode:38})},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return a.a.createElement(b.a,{nodeName:"div",detectTouch:!0,onSwipeEnd:this.handleSwipeEnd,onSwipedLeft:this.handleSwipeLeftListener,onSwipedRight:this.handleSwipeRightListener,onSwipedDown:this.handleSwipeDownListener,onSwipedUp:this.handleSwipeUpListener},e)}}]),n}(a.a.Component),k=function(e,n){var t=n.right,r=n.left,a=n.top,o=n.bottom;switch(e){case 37:return r();case 38:return a();case 39:return t();case 40:return o()}},x=t(1),C=t(2),E="darkorange",j="white",G="#804600",O="#552f00";function A(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    transition-timing-function: ease;\n    transition-delay: 1s;\n    transition-property: all;\n    width: 25%;\n    height: 25%;\n    border: 2.5px solid white;\n    font-size: 1rem;\n    background-color: ",";\n"]);return A=function(){return e},e}var I=j,z="green",L="#fe9802";var R=C.a.div(A(),(function(e){return function(e){switch(e){case"default":return L;case"main":return I;case"right":return z}}(e.state)}));var W=function(e){var n=e.children,t=e.state;return a.a.createElement(R,{state:t},n)};function M(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    user-select: none;\n    width: 40vh;\n    height: 40vh;\n    background-color: ",";\n    border: 1px solid ",";\n    box-shadow: 2px 2px 10px ",";\n"]);return M=function(){return e},e}function D(){var e=Object(x.a)(["\n    box-sizing: border-box;\n    border: none;\n    padding: 10px;\n    margin: 15px;\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return D=function(){return e},e}function U(){var e=Object(x.a)(["\n    display: flex;\n"]);return U=function(){return e},e}var H=j,B=E,N=G,P=O,T=C.a.nav(U()),J=C.a.button(D(),N,H,P),F=C.a.div(M(),H,B,B),K=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={enabled:!1,wrongItems:[],gameState:t.genereteDefaultGameState()},t.handleStartGame=function(){t.container&&t.container.focus();var e=t.generateRandomSolvableGs(t.state.gameState),n=t.getWrongItems(e);t.stateSetter(!0,e,n)},t.handleBreakGame=function(){t.stateSetter(!1,t.genereteDefaultGameState(),[])},t.handleChangeGameState=function(e){if(t.state.enabled&&e.keyCode<=40&&e.keyCode>=37){var n=t.swapItems(e.keyCode),r=t.getWrongItems(n),a=!0;null!==r&&0===r.length&&(alert("YOU ARE WIN A GAME!!!"),a=!1),t.stateSetter(a,n,r)}},t.setContainerRef=function(e){return t.container=e},t.swapItems=function(e){return k(e,{top:function(){return t.swapHandler(0,-1)},bottom:function(){return t.swapHandler(0,1)},right:function(){return t.swapHandler(1,0)},left:function(){return t.swapHandler(-1,0)}})},t.generateRandomSolvableGs=function(e){for(var n=h(e),t=p(n);!t;)n=h(n),t=p(n);return n},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"getWrongItems",value:function(e){var n=[];return void 0!==e?(e.forEach((function(e,t){return e.forEach((function(e,r){return e.x!==r||e.y!==t?n.push(e):null}))})),n):null}},{key:"swapHandler",value:function(e,n){var t=this.state.gameState,r=this.findMain(t),a={y:r.y+n,x:r.x+e};if(a.y<4&&a.y>-1&&a.x<4&&a.x>-1)return this.swapArrayElem(t,r,a)}},{key:"findMain",value:function(e){for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++)if(e[n][t].main)return{y:n,x:t}}},{key:"swapArrayElem",value:function(e,n,t){var r=e[n.y][n.x];return e[n.y][n.x]=e[t.y][t.x],e[t.y][t.x]=r,e}},{key:"stateSetter",value:function(e,n,t){this.setState((function(r){var a=r.gameState,o=r.wrongItems;return{enabled:e,gameState:n||a,wrongItems:t||o}}))}},{key:"genereteDefaultGameState",value:function(){var e=Array.from(Array(4),(function(e,n){return Array.from(Array(4),(function(e,t){return{y:n,x:t}}))}));return e[3][3].main=!0,e}},{key:"generateItems",value:function(){var e=this;return this.state.gameState.map((function(n){return n.map((function(n){var t=n.x+4*n.y+1,r=!e.state.wrongItems.includes(n),o="default";return n.main?o="main":r&&(o="right"),a.a.createElement(W,{key:t,state:o},t)}))}))}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"15-puzzle"),a.a.createElement(T,null,a.a.createElement(J,{onClick:this.handleStartGame},"#shuffleGame"),a.a.createElement(J,{onClick:this.handleBreakGame},"#breakGame")),a.a.createElement("div",null,a.a.createElement(S,{onChangeGameState:this.handleChangeGameState},a.a.createElement(F,{ref:this.setContainerRef,onKeyDown:this.handleChangeGameState,tabIndex:"0"},this.generateItems()))))}}]),n}(a.a.Component),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(K,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/15-Puzzle",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/15-Puzzle","/service-worker.js");Y?(!function(e,n){fetch(e).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):$(n,e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.bce01409.chunk.js.map