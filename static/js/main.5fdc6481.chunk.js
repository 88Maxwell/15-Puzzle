(window["webpackJsonp15-puzzle"]=window["webpackJsonp15-puzzle"]||[]).push([[0],{19:function(e,n,t){e.exports=t(30)},20:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);t(20);var r=t(0),a=t.n(r),o=t(13),i=t.n(o),c=t(4),u=t(5),s=t(7),l=t(6),f=t(8),d=function(e){for(var n=e.length-1;n>0;n--)for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*n),a=Math.floor(Math.random()*t),o=e[n][t];e[n][t]=e[r][a],e[r][a]=o}return e},h=t(3),g=function(e){var n=e.length,t=p(e),r=m(e),a=n-Math.floor(t/n),o=v(r,n),i=y(n)&&w(o),c=w(n),u=y(a)&&w(o),s=w(a)&&y(o);return i||c&&(u||s)},p=function(e){return e.reduce((function(e,n){return[].concat(Object(h.a)(e),Object(h.a)(n))}),[]).findIndex((function(e){return e.main}))},m=function(e){return e.reduce((function(n,t){var r=t.map((function(n){return n.x+n.y*e.length+1}));return[].concat(Object(h.a)(n),Object(h.a)(r))}),[])},v=function(e,n){return e.reduce((function(t,r,a){return r!==Math.pow(n,2)?t+e.slice(a+1).reduce((function(e,n){return r<n&&16!==r?e:++e}),0):t}),0)},w=function(e){return Math.floor(e/2)===e/2},y=function(e){return!w(e)},b=t(1),S=t(2),k="white",x="#fe9802",C="green";function E(){var e=Object(b.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    width: 25%;\n    height: 25%;\n    border: 2.5px solid white;\n    font-size: 1rem;\n    background-color: ",";\n"]);return E=function(){return e},e}function j(){var e=Object(b.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    user-select: none;\n    width: 40vh;\n    height: 40vh;\n    background-color: ",";\n    border: 1px solid ",";\n    box-shadow: 2px 2px 10px ",";\n"]);return j=function(){return e},e}function G(){var e=Object(b.a)(["\n    box-sizing: border-box;\n    border: none;\n    padding: 10px;\n    margin: 15px;\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return G=function(){return e},e}function O(){var e=Object(b.a)(["\n    display: flex;\n"]);return O=function(){return e},e}var A=S.a.nav(O()),I=S.a.div(G(),"#804600",k,"#552f00"),L=S.a.div(j(),k,"darkorange","darkorange");var R=S.a.div(E(),(function(e){return function(e){switch(e.state){case"default":return x;case"main":return k;case"right":return C}}(e)})),W=t(16),M=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).handleSwipeLeftListener=function(){return t.props.onChangeGameState({keyCode:37})},t.handleSwipeDownListener=function(){return t.props.onChangeGameState({keyCode:40})},t.handleSwipeRightListener=function(){return t.props.onChangeGameState({keyCode:39})},t.handleSwipeUpListener=function(){return t.props.onChangeGameState({keyCode:38})},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.children;return a.a.createElement(W.a,{nodeName:"div",detectTouch:!0,onSwipeEnd:this.handleSwipeEnd,onSwipedLeft:this.handleSwipeLeftListener,onSwipedRight:this.handleSwipeRightListener,onSwipedDown:this.handleSwipeDownListener,onSwipedUp:this.handleSwipeUpListener},e)}}]),n}(a.a.Component),z=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).state={enabled:!1,wrongItems:[],gameState:t.genereteDefaultGameState()},t.handleStartGame=function(){t.container&&t.container.focus();var e=t.generateRandomSolvableGs(t.state.gameState),n=t.getWrongItems(e);t.stateSetter(!0,e,n)},t.handleBreakGame=function(){t.stateSetter(!1,t.genereteDefaultGameState(),[])},t.handleChangeGameState=function(e){if(t.state.enabled&&e.keyCode<=40&&e.keyCode>=37){var n=t.swapItems(e.keyCode),r=t.getWrongItems(n),a=!0;null!==r&&0===r.length&&(alert("YOU ARE WIN A GAME!!!"),a=!1),t.stateSetter(a,n,r)}},t.setContainerRef=function(e){return t.container=e},t.generateRandomSolvableGs=function(e){for(var n=d(e),t=g(n);!t;)n=d(n),t=g(n);return n},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"getWrongItems",value:function(e){var n=[];return void 0!==e?(e.forEach((function(e,t){return e.forEach((function(e,r){return e.x!==r||e.y!==t?n.push(e):null}))})),n):null}},{key:"swapHandler",value:function(e,n){var t=this.state.gameState,r=this.findMain(t),a={y:r.y+n,x:r.x+e};if(a.y<4&&a.y>-1&&a.x<4&&a.x>-1)return this.swapArrayElem(t,r,a)}},{key:"findMain",value:function(e){for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++)if(e[n][t].main)return{y:n,x:t}}},{key:"swapArrayElem",value:function(e,n,t){var r=e[n.y][n.x];return e[n.y][n.x]=e[t.y][t.x],e[t.y][t.x]=r,e}},{key:"swapItems",value:function(e){var n;switch(e){case 37:n=this.swapHandler(-1,0);break;case 38:n=this.swapHandler(0,-1);break;case 39:n=this.swapHandler(1,0);break;case 40:n=this.swapHandler(0,1)}return n}},{key:"stateSetter",value:function(e,n,t){this.setState({enabled:e,gameState:n||this.state.gameState,wrongItems:t||this.state.wrongItems})}},{key:"genereteDefaultGameState",value:function(){var e=Array.from(Array(4),(function(e,n){return Array.from(Array(4),(function(e,t){return{y:n,x:t}}))}));return e[3][3].main=!0,e}},{key:"generateItems",value:function(){var e=this;return this.state.gameState.map((function(n){return n.map((function(n){var t=n.x+4*n.y+1,r=!e.state.wrongItems.includes(n),o="default";return n.main?o="main":r&&(o="right"),a.a.createElement(R,{key:t,state:o},t)}))}))}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement("h1",null,"15-puzzle"),a.a.createElement(A,null,a.a.createElement(I,{onClick:this.handleStartGame},"#shuffleGame"),a.a.createElement(I,{onClick:this.handleBreakGame},"#breakGame")),a.a.createElement("div",null,a.a.createElement(M,{onChangeGameState:this.handleChangeGameState},a.a.createElement(L,{ref:this.setContainerRef,onKeyDown:this.handleChangeGameState,tabIndex:"0"},this.generateItems()))))}}]),n}(a.a.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.addEventListener("appinstalled",(function(){console.log("a2hs installed")})),i.a.render(a.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");D?(!function(e,n){fetch(e).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):U(n,e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.5fdc6481.chunk.js.map